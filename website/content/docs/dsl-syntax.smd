---
.title = "DSL Syntax",
.description = "Quick language overview",
.author = "PNGine Team",
.date = @date("2024-12-18"),
.layout = "docs.shtml",
---

This page provides a quick overview of PNGine DSL syntax. For complete documentation of each macro, see the [DSL Reference](/docs/dsl/).

## Basic Structure

A `.pngine` file contains macro declarations. Each macro starts with `#` followed by the macro type and name:

```pngine
#macroType name {
  property=value
  array=[item1 item2]
  nested={ key=value }
}
```

## Value Types

| Type | Example | Description |
|------|---------|-------------|
| String | `"WGSL code"` | Quoted text |
| Number | `123`, `0.5`, `0xFF` | Decimal, float, or hex |
| Boolean | `true`, `false` | Boolean values |
| Identifier | `myName` | Bare identifier (auto-resolved) |
| Array | `[a b c]` | Space-separated list |
| Object | `{x=1 y=2}` | Key-value pairs |
| Expression | `"4*16"` | Compile-time arithmetic |

## Quick Reference

| Macro | Purpose | Details |
|-------|---------|---------|
| `#wgsl` | Shader fragment | [Full docs](/docs/dsl/wgsl/) |
| `#shaderModule` | Shader module | [Full docs](/docs/dsl/shader-module/) |
| `#buffer` | GPU buffer | [Full docs](/docs/dsl/buffer/) |
| `#texture` | GPU texture | [Full docs](/docs/dsl/texture/) |
| `#sampler` | Texture sampler | [Full docs](/docs/dsl/sampler/) |
| `#bindGroup` | Resource binding | [Full docs](/docs/dsl/bind-group/) |
| `#renderPipeline` | Render pipeline | [Full docs](/docs/dsl/render-pipeline/) |
| `#computePipeline` | Compute pipeline | [Full docs](/docs/dsl/compute-pipeline/) |
| `#renderPass` | Render pass | [Full docs](/docs/dsl/render-pass/) |
| `#computePass` | Compute pass | [Full docs](/docs/dsl/compute-pass/) |
| `#frame` | Frame execution | [Full docs](/docs/dsl/frame/) |
| `#data` | Embedded data | [Full docs](/docs/dsl/data/) |
| `#queue` | Queue operations | [Full docs](/docs/dsl/queue/) |
| `#define` | Constants | [Full docs](/docs/dsl/define/) |
| `#animation` | Scene animation | [Full docs](/docs/dsl/animation/) |

## Minimal Example

```pngine
#shaderModule code {
  code="
    @vertex fn vs(@builtin(vertex_index) i: u32) -> @builtin(position) vec4f {
      var pos = array<vec2f, 3>(
        vec2f(0.0, 0.5),
        vec2f(-0.5, -0.5),
        vec2f(0.5, -0.5)
      );
      return vec4f(pos[i], 0.0, 1.0);
    }

    @fragment fn fs() -> @location(0) vec4f {
      return vec4f(1.0, 0.0, 0.0, 1.0);
    }
  "
}

#renderPipeline pipeline {
  layout=auto
  vertex={ module=code entryPoint=vs }
  fragment={ module=code entryPoint=fs targets=[{ format=preferredCanvasFormat }] }
}

#renderPass pass {
  colorAttachments=[{
    view=contextCurrentTexture
    clearValue=[0 0 0 1]
    loadOp=clear
    storeOp=store
  }]
  pipeline=pipeline
  draw=3
}

#frame main {
  perform=[pass]
}
```

## References

Resources reference each other using bare identifiers. The analyzer resolves them based on context:

```pngine
pipeline=myPipeline       // Resolves to #renderPipeline or #computePipeline
module=shader             // Resolves to #shaderModule or #wgsl
buffer=vertices           // Resolves to #buffer
```

See [References](/docs/dsl/references/) for complete documentation.

## Expressions

Numeric fields support compile-time expressions:

```pngine
#define NUM_PARTICLES=2048

size="NUM_PARTICLES * 16"
dispatchWorkgroups="ceil(NUM_PARTICLES / 64)"
```

Available: `+`, `-`, `*`, `/`, `PI`, `E`, `TAU`, `ceil()`, `floor()`

See [Expressions](/docs/dsl/expressions/) for complete documentation.

## Next Steps

- [DSL Reference](/docs/dsl/) - Complete macro documentation
- [Getting Started](/docs/getting-started/) - Build your first PNGine program
- [CLI Reference](/docs/cli/) - Command-line tools
